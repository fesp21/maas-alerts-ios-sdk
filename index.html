<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Maas-alerts-ios-sdk : iOS MaaS Alerts &amp; Notifications SDK." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Maas-alerts-ios-sdk</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/phunware/maas-alerts-ios-sdk">View on GitHub</a>

          <h1 id="project_title">Maas-alerts-ios-sdk</h1>
          <h2 id="project_tagline">iOS MaaS Alerts &amp; Notifications SDK.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/phunware/maas-alerts-ios-sdk/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/phunware/maas-alerts-ios-sdk/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="maasalerts-ios-sdk" class="anchor" href="#maasalerts-ios-sdk"><span class="octicon octicon-link"></span></a>MaaSAlerts iOS SDK</h1>

<p>Version 1.0.0</p>

<p>This is the iOS SDK for the Phunwares Alerts &amp; Notifications MaaS module. Visit <a href="http://www.phunware.com/">http://www.phunware.com/</a> for more details and to sign up.</p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>MaaSAlerts has a dependency on MaaSCore.framework which is available here: <a href="https://github.com/phunware/maas-core-ios-sdk">https://github.com/phunware/maas-core-ios-sdk</a></p>

<p>It's recommended that you add the MaaS framesworks to 'MaaS Frameworks' directory. Then add the MaaSCore.framework and MaaSAlerts.framework to your Xcode project.</p>

<p>The following frameworks are required:</p>

<pre><code>MaaSCore.framework
</code></pre>

<p>Scroll down for implementation details.</p>

<h2>
<a name="application-setup" class="anchor" href="#application-setup"><span class="octicon octicon-link"></span></a>Application Setup</h2>

<p>At the top of your application delegate (.m) file add the following:</p>

<div class="highlight"><pre><span class="cp">#import &lt;MaaSCore/MaaSCore.h&gt;</span>
<span class="cp">#import &lt;MaaSAlerts/MaaSAlerts.h&gt;</span>
</pre></div>

<p>Inside your application delegate you will need to initialize MaaSCore in the application:didFinishLaunchingWithOptions: method:</p>

<div class="highlight"><pre><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">MaaSCore</span> <span class="n">setApplicationID</span><span class="o">:</span><span class="s">@"ed4a2073519192f9299e6b79afe680bc"</span><span class="p">];</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></div>

<p>Apple has three primary methods for handling remote notifications. You will need to implement these in your application delegate, forwarding the results to MaaSAlerts:</p>

<div class="highlight"><pre><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">app</span> <span class="nf">didRegisterForRemoteNotificationsWithDeviceToken:</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="p">)</span><span class="nv">devToken</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">MaaSAlerts</span> <span class="n">didRegisterForRemoteNotificationsWithDeviceToken</span><span class="o">:</span><span class="n">devToken</span><span class="p">];</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">app</span> <span class="nf">didFailToRegisterForRemoteNotificationsWithError:</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="p">)</span><span class="nv">err</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">MaaSAlerts</span> <span class="n">didFailToRegisterForRemoteNotificationsWithError</span><span class="o">:</span><span class="n">err</span><span class="p">];</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didReceiveRemoteNotification:</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">userInfo</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">MaaSAlerts</span> <span class="n">didReceiveRemoteNotification</span><span class="o">:</span><span class="n">userInfo</span><span class="p">];</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></div>

<p>For a complete example, see <a href="https://github.com/phunware/maas-core-ios-sdk/Sample">https://github.com/phunware/maas-core-ios-sdk/Sample</a></p>

<h2>
<a name="subscription-groups" class="anchor" href="#subscription-groups"><span class="octicon octicon-link"></span></a>Subscription Groups</h2>

<p>MaaSAlerts provides the ability to provide users a list of subscription groups from which more filtered alerts and notifications can be received. There are two methods the facilitate this, <em>getSubscriptionGroupsWithSuccess:failure:</em> and <em>subscribeToGroupsWithIDs:success:failure:</em>.</p>

<div class="highlight"><pre><span class="c1">// Fetch an array of of the available subscriptions</span>
<span class="p">[</span><span class="n">MaaSAlerts</span> <span class="n">getSubscriptionGroupsWithSuccess</span><span class="o">:^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">groups</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Display the available subscription groups to the user</span>
        <span class="c1">// The groups array will contain dictionary objects the conform to the following structure: {@"id" : @"SUBCRIPTION_GROU_ID", @"name" : @"SUBSCRIPTION_GROUP_NAME"}</span>
    <span class="p">}</span> <span class="n">failure</span><span class="o">:^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Handle error</span>
    <span class="p">}];</span>


<span class="c1">// To update the subscription groups you would make the following call</span>

<span class="n">NSArray</span> <span class="o">*</span><span class="n">subscribedGroups</span> <span class="o">=</span> <span class="err">@</span><span class="p">[</span><span class="s">@"SUBSCRIPTION_GROUP_ID"</span><span class="p">,</span> <span class="p">...];</span>
<span class="p">[</span><span class="n">MaaSAlerts</span> <span class="n">subscribeToGroupsWithIDs</span><span class="o">:</span><span class="n">subscribedGroups</span> <span class="n">success</span><span class="o">:^</span><span class="p">{</span>
        <span class="c1">// Handle success</span>
<span class="n">edGroups</span>    <span class="p">}</span> <span class="n">failure</span><span class="o">:^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Handle error</span>
    <span class="p">}];</span>
<span class="p">}</span>
</pre></div>

<h2>
<a name="optional" class="anchor" href="#optional"><span class="octicon octicon-link"></span></a>Optional</h2>

<p>Fetching extra information associated with a push notification using MaaSAlerts is easy using <em>getExtraInformationForPushID:success:failure:</em> </p>

<div class="highlight"><pre><span class="p">[</span><span class="n">MaaSAlerts</span> <span class="n">getExtraInformationForPushID</span><span class="o">:</span><span class="s">@"PUSH_ID"</span> <span class="n">success</span><span class="o">:^</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">extraInformation</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Process the extra information</span>
    <span class="p">}</span> <span class="n">failure</span><span class="o">:^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Handle error</span>
    <span class="p">}]</span>
</pre></div>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Maas-alerts-ios-sdk maintained by <a href="https://github.com/phunware">phunware</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
